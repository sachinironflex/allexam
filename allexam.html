<!DOCTYPE html>
<html lang="hi">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Exam Cracker</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body {
      font-family: 'Segoe UI', sans-serif;
      background: #f0f4f8;
      padding: 20px;
      color: #333;
    }
    .container { max-width: 800px; margin: auto; }
    .btn {
      display: block;
      width: 100%;
      padding: 12px;
      margin: 10px 0;
      background: #007bff;
      color: white;
      font-size: 16px;
      border: none;
      border-radius: 6px;
      cursor: pointer;
    }
    .btn:hover { background: #0056b3; }
    .hidden { display: none; }
    .question-box {
      background: #fff;
      padding: 15px;
      border-radius: 6px;
      box-shadow: 0 0 10px rgba(0,0,0,0.1);
      margin-top: 15px;
    }
    .option {
      background: #f1f1f1;
      padding: 10px;
      margin: 8px 0;
      border-radius: 5px;
      cursor: pointer;
    }
    .option:hover { background: #c8e6c9; }
    .selected { background: #90caf9 !important; }
    .solution { color: #d32f2f; margin-top: 10px; }
    .summary-box {
      background: #fff;
      padding: 20px;
      margin-top: 20px;
      border-radius: 6px;
      box-shadow: 0 0 10px rgba(0,0,0,0.1);
    }
    .question-review {
      background: #f9fbe7;
      border: 1px solid #cddc39;
      padding: 10px;
      margin-bottom: 10px;
      border-radius: 5px;
    }
    .filter-btns {
      display: flex;
      gap: 10px;
      margin: 15px 0;
    }
    #timer {
      font-size: 18px;
      font-weight: bold;
      margin-top: 10px;
      color: #d32f2f;
    }
  </style>
</head>
<body>
  <div class="container">
    <div id="nameSection">
      <h2>ЁЯСд рдХреГрдкрдпрд╛ рдЕрдкрдирд╛ рдирд╛рдо рджрд░реНрдЬ рдХрд░реЗрдВ</h2>
      <input type="text" id="username" placeholder="рдЖрдкрдХрд╛ рдирд╛рдо" style="padding:10px;width:100%;margin:10px 0;" />
      <button class="btn" onclick="saveName()">Enter</button>
    </div>

    <div id="homeSection" class="hidden">
      <h2>рдирдорд╕реНрддреЗ, <span id="userNameDisplay"></span> ЁЯСЛ</h2>
      <button class="btn" onclick="startTest('math')">ЁЯзо Maths Test</button>
      <button class="btn" onclick="startTest('hindi')">ЁЯУЭ Hindi Test</button>
      <button class="btn" onclick="startTest('science')">ЁЯФм Science Test</button>
      <button class="btn" onclick="startTest('gk')">ЁЯМН GK/GS</button>
      <button class="btn" onclick="startTest('computer')">ЁЯТ╗ Computer</button>
      <button class="btn" onclick="startTest('reasoning')">ЁЯза Reasoning</button>
      <button class="btn" onclick="startTest('bihar')">ЁЯУШ Bihar GK</button>
      <div id="timer" class="hidden"></div>
      <div id="testSection" class="hidden"></div>
      <div id="resultSection" class="hidden"></div>
    </div>
  </div>

  <script>
    const questionData = {
      math: Array.from({ length: 100 }, (_, i) => {
        let a = i + 2, b = i + 3;
        return {
          q: `Q${i+1}: What is ${a} ├Ч ${b}?`,
          options: [a * b, a + b, a - b, a * b + 1],
          answer: 0,
          solution: `${a} ├Ч ${b} = ${a * b}`
        };
      }),
      hindi: Array.from({ length: 100 }, (_, i) => ({
        q: `Q${i+1}: тАШрдкреБрд╕реНрддрдХтАЩ рдХрд╛ рдкрд░реНрдпрд╛рдпрд╡рд╛рдЪреА рдХреНрдпрд╛ рд╣реИ?`,
        options: ['рдЧреНрд░рдВрде', 'рдЦрд┐рдбрд╝рдХреА', 'рдШреЛрдбрд╝рд╛', 'рдХрдкрдбрд╝рд╛'],
        answer: 0,
        solution: 'тАШрдкреБрд╕реНрддрдХтАЩ рдХрд╛ рдкрд░реНрдпрд╛рдпрд╡рд╛рдЪреА рд╢рдмреНрдж рд╣реИ - рдЧреНрд░рдВрдеред'
      })),
      science: Array.from({ length: 100 }, (_, i) => ({
        q: `Q${i+1}: рдкрд╛рдиреА рдХрд╛ рд░рд╛рд╕рд╛рдпрдирд┐рдХ рд╕реВрддреНрд░ рдХреНрдпрд╛ рд╣реИ?`,
        options: ['H2O', 'CO2', 'O2', 'HCl'],
        answer: 0,
        solution: 'рдкрд╛рдиреА рдХрд╛ рд░рд╛рд╕рд╛рдпрдирд┐рдХ рд╕реВрддреНрд░ HтВВO рд╣реЛрддрд╛ рд╣реИред'
      })),
      gk: Array.from({ length: 100 }, (_, i) => ({
        q: `Q${i+1}: рднрд╛рд░рдд рдХреА рд░рд╛рдЬрдзрд╛рдиреА рдХреНрдпрд╛ рд╣реИ?`,
        options: ['рдирдИ рджрд┐рд▓реНрд▓реА', 'рдореБрдВрдмрдИ', 'рдХреЛрд▓рдХрд╛рддрд╛', 'рдЪреЗрдиреНрдирдИ'],
        answer: 0,
        solution: 'рднрд╛рд░рдд рдХреА рд░рд╛рдЬрдзрд╛рдиреА рдирдИ рджрд┐рд▓реНрд▓реА рд╣реИред'
      })),
      computer: Array.from({ length: 100 }, (_, i) => ({
        q: `Q${i+1}: CPU рдХрд╛ рдкреВрд░рд╛ рдирд╛рдо рдХреНрдпрд╛ рд╣реИ?`,
        options: ['Central Processing Unit', 'Computer Power Unit', 'Control Panel Unit', 'Central Program Utility'],
        answer: 0,
        solution: 'CPU рдХрд╛ рдорддрд▓рдм рд╣реИ Central Processing Unitред'
      })),
      reasoning: Array.from({ length: 100 }, (_, i) => ({
        q: `Q${i+1}: 2, 4, 6, ?, 10 тАФ ? рдореЗрдВ рдХреНрдпрд╛ рдЖрдПрдЧрд╛?`,
        options: ['8', '7', '9', '6'],
        answer: 0,
        solution: 'рдпрд╣ рдПрдХ +2 рдХреА series рд╣реИ: рдЕрдЧрд▓рд╛ рдирдВрдмрд░ 8 рд╣реЛрдЧрд╛ред'
      })),
      bihar: Array.from({ length: 100 }, (_, i) => ({
        q: `Q${i+1}: рдмрд┐рд╣рд╛рд░ рдХреЗ рдкрд╣рд▓реЗ рдореБрдЦреНрдпрдордВрддреНрд░реА рдХреМрди рдереЗ?`,
        options: ['рд╢реНрд░реАрдХреГрд╖реНрдг рд╕рд┐рдВрд╣', 'рдиреАрддреАрд╢ рдХреБрдорд╛рд░', 'рд▓рд╛рд▓реВ рдпрд╛рджрд╡', 'рд░рд╛рдорд╡рд┐рд▓рд╛рд╕ рдкрд╛рд╕рд╡рд╛рди'],
        answer: 0,
        solution: 'рдмрд┐рд╣рд╛рд░ рдХреЗ рдкрд╣рд▓реЗ рдореБрдЦреНрдпрдордВрддреНрд░реА рд╢реНрд░реАрдХреГрд╖реНрдг рд╕рд┐рдВрд╣ рдереЗред'
      })),
    };

    let currentTest = null, currentIndex = 0, selectedOption = null;
    let correctAnswers = [], wrongAnswers = [], timeLeft = 120 * 60;
    let timerInterval = null;

    function saveName() {
      const name = document.getElementById('username').value.trim();
      if (name) {
        localStorage.setItem('examUserName', name);
        document.getElementById('userNameDisplay').innerText = name;
        document.getElementById('nameSection').classList.add('hidden');
        document.getElementById('homeSection').classList.remove('hidden');
      }
    }

    window.onload = () => {
      const name = localStorage.getItem('examUserName');
      if (name) {
        document.getElementById('username').value = name;
        document.getElementById('userNameDisplay').innerText = name;
        document.getElementById('nameSection').classList.add('hidden');
        document.getElementById('homeSection').classList.remove('hidden');
      }
    };

    function startTest(type) {
      if (!questionData[type]) return;
      currentTest = type;
      currentIndex = 0;
      selectedOption = null;
      correctAnswers = [];
      wrongAnswers = [];
      timeLeft = 120 * 60;
      clearInterval(timerInterval);
      document.getElementById('timer').classList.remove('hidden');
      timerInterval = setInterval(updateTimer, 1000);
      document.getElementById('testSection').classList.remove('hidden');
      document.getElementById('resultSection').classList.add('hidden');
      showQuestion();
    }

    function updateTimer() {
      const min = Math.floor(timeLeft / 60);
      const sec = timeLeft % 60;
      document.getElementById('timer').innerText = `тП░ рд╕рдордп рдмрдЪрд╛ рд╣реИ: ${min} рдорд┐рдирдЯ ${sec} рд╕реЗрдХрдВрдб`;
      timeLeft--;
      if (timeLeft < 0) {
        clearInterval(timerInterval);
        showResult();
      }
    }

    function showQuestion() {
      const questions = questionData[currentTest];
      const q = questions[currentIndex];
      let html = `<div class='question-box'><h3>${q.q}</h3>`;
      q.options.forEach((opt, i) => {
        html += `<div class='option' onclick='selectOption(${i})'>${opt}</div>`;
      });
      html += `<div class='solution' id='solution'></div>`;
      html += `<button class='btn' onclick='nextQuestion()'>Save & Next</button></div>`;
      document.getElementById('testSection').innerHTML = html;
    }

    function selectOption(i) {
      selectedOption = i;
      const opts = document.querySelectorAll('.option');
      opts.forEach((opt, idx) => {
        opt.classList.toggle('selected', idx === i);
      });
    }

    function nextQuestion() {
      if (selectedOption === null) {
        alert("рдХреГрдкрдпрд╛ рдХреЛрдИ рд╡рд┐рдХрд▓реНрдк рдЪреБрдиреЗрдВ");
        return;
      }

      const q = questionData[currentTest][currentIndex];
      if (selectedOption === q.answer) {
        correctAnswers.push({ ...q, selected: selectedOption });
      } else {
        wrongAnswers.push({ ...q, selected: selectedOption });
      }

      currentIndex++;
      selectedOption = null;

      if (currentIndex < 100) {
        showQuestion();
      } else {
        showResult();
      }
    }

    function showResult() {
      clearInterval(timerInterval);
      document.getElementById('testSection').classList.add('hidden');
      document.getElementById('timer').classList.add('hidden');
      let html = `<div class='summary-box'><h3>ЁЯОп Test Complete!</h3>
        <p>тЬЕ рд╕рд╣реА рдЙрддреНрддрд░: ${correctAnswers.length}</p>
        <p>тЭМ рдЧрд▓рдд рдЙрддреНрддрд░: ${wrongAnswers.length}</p>
        <div class='filter-btns'>
          <button class='btn' onclick='showReview("right")'>рд╕рд┐рд░реНрдл рд╕рд╣реА</button>
          <button class='btn' onclick='showReview("wrong")'>рд╕рд┐рд░реНрдл рдЧрд▓рдд</button>
        </div></div>`;
      document.getElementById('resultSection').innerHTML = html;
      document.getElementById('resultSection').classList.remove('hidden');
    }

    function showReview(type) {
      const list = type === 'right' ? correctAnswers : wrongAnswers;
      let html = `<div class='summary-box'><h3>${type === 'right' ? 'тЬЕ рд╕рд╣реА рдЙрддреНрддрд░' : 'тЭМ рдЧрд▓рдд рдЙрддреНрддрд░'}</h3>`;
      list.forEach((q) => {
        html += `<div class='question-review'><h4>${q.q}</h4>
          <p>рдЖрдкрдХрд╛ рдЙрддреНрддрд░: ${q.options[q.selected]}</p>
          <p>рд╕рд╣реА рдЙрддреНрддрд░: ${q.options[q.answer]}</p>
          <p><em>${q.solution}</em></p></div>`;
      });
      html += `<button class='btn' onclick='startTest("${currentTest}")'>рдкреБрдирдГ рдЯреЗрд╕реНрдЯ рдХрд░реЗрдВ</button></div>`;
      document.getElementById('resultSection').innerHTML = html;
    }

    window.onpopstate = () => {
      if (!document.getElementById('testSection').classList.contains('hidden')) {
        const confirmExit = confirm("рдХреНрдпрд╛ рдЖрдк рдЯреЗрд╕реНрдЯ рд╕реЗ рдмрд╛рд╣рд░ рдирд┐рдХрд▓рдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ?");
        if (confirmExit) location.reload();
        else history.pushState(null, null, location.href);
      }
    };
    history.pushState(null, null, location.href);
  </script>
</body>
</html>
