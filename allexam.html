<!DOCTYPE html>
<html lang="hi">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Exam Cracker</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body {
      font-family: 'Segoe UI', sans-serif;
      background: #f0f4f8;
      padding: 20px;
      color: #333;
    }
    .container { max-width: 800px; margin: auto; }
    .btn {
      display: block;
      width: 100%;
      padding: 12px;
      margin: 10px 0;
      background: #007bff;
      color: white;
      font-size: 16px;
      border: none;
      border-radius: 6px;
      cursor: pointer;
    }
    .btn:hover { background: #0056b3; }
    .hidden { display: none; }
    .question-box {
      background: #fff;
      padding: 15px;
      border-radius: 6px;
      box-shadow: 0 0 10px rgba(0,0,0,0.1);
      margin-top: 15px;
    }
    .option {
      background: #f1f1f1;
      padding: 10px;
      margin: 8px 0;
      border-radius: 5px;
      cursor: pointer;
    }
    .option:hover { background: #c8e6c9; }
    .selected { background: #90caf9 !important; }
    .solution { color: #d32f2f; margin-top: 10px; }
    .summary-box {
      background: #fff;
      padding: 20px;
      margin-top: 20px;
      border-radius: 6px;
      box-shadow: 0 0 10px rgba(0,0,0,0.1);
    }
    .question-review {
      background: #f9fbe7;
      border: 1px solid #cddc39;
      padding: 10px;
      margin-bottom: 10px;
      border-radius: 5px;
    }
    .filter-btns {
      display: flex;
      gap: 10px;
      margin: 15px 0;
    }
    #timer {
      font-size: 18px;
      font-weight: bold;
      margin-top: 10px;
      color: #d32f2f;
    }
  </style>
</head>
<body>
  <div class="container">
    <div id="nameSection">
      <h2>üë§ ‡§ï‡•É‡§™‡§Ø‡§æ ‡§Ö‡§™‡§®‡§æ ‡§®‡§æ‡§Æ ‡§¶‡§∞‡•ç‡§ú ‡§ï‡§∞‡•á‡§Ç</h2>
      <input type="text" id="username" placeholder="‡§Ü‡§™‡§ï‡§æ ‡§®‡§æ‡§Æ" style="padding:10px;width:100%;margin:10px 0;" />
      <button class="btn" onclick="saveName()">Enter</button>
    </div>

    <div id="homeSection" class="hidden">
      <h2>‡§®‡§Æ‡§∏‡•ç‡§§‡•á, <span id="userNameDisplay"></span> üëã</h2>
      <button class="btn" onclick="startTest('math')">üßÆ Maths Test</button>
      <button class="btn" onclick="startTest('hindi')">üìù Hindi Test</button>
      <button class="btn" onclick="startTest('science')">üî¨ Science Test</button>
      <button class="btn" onclick="startTest('gk')">üåç GK/GS</button>
      <button class="btn" onclick="startTest('computer')">üíª Computer</button>
      <button class="btn" onclick="startTest('reasoning')">üß† Reasoning</button>
      <button class="btn" onclick="startTest('bihar')">üìò Bihar GK</button>
      <div id="timer" class="hidden"></div>
      <div id="testSection" class="hidden"></div>
      <div id="resultSection" class="hidden"></div>
    </div>
  </div>

  <script>
    const questionData = {
      math: Array.from({ length: 100 }, (_, i) => {
        let a = i + 2, b = i + 3;
        return {
          q: `Q${i+1}: What is ${a} √ó ${b}?`,
          options: [a * b, a + b, a - b, a * b + 1],
          answer: 0,
          solution: `${a} √ó ${b} = ${a * b}`
        };
      }),
      hindi: Array.from({ length: 100 }, (_, i) => ({
        q: `Q${i+1}: ‚Äò‡§™‡•Å‡§∏‡•ç‡§§‡§ï‚Äô ‡§ï‡§æ ‡§™‡§∞‡•ç‡§Ø‡§æ‡§Ø‡§µ‡§æ‡§ö‡•Ä ‡§ï‡•ç‡§Ø‡§æ ‡§π‡•à?`,
        options: ['‡§ó‡•ç‡§∞‡§Ç‡§•', '‡§ñ‡§ø‡§°‡§º‡§ï‡•Ä', '‡§ò‡•ã‡§°‡§º‡§æ', '‡§ï‡§™‡§°‡§º‡§æ'],
        answer: 0,
        solution: '‚Äò‡§™‡•Å‡§∏‡•ç‡§§‡§ï‚Äô ‡§ï‡§æ ‡§™‡§∞‡•ç‡§Ø‡§æ‡§Ø‡§µ‡§æ‡§ö‡•Ä ‡§∂‡§¨‡•ç‡§¶ ‡§π‡•à - ‡§ó‡•ç‡§∞‡§Ç‡§•‡•§'
      })),
      science: Array.from({ length: 100 }, (_, i) => ({
        q: `Q${i+1}: ‡§™‡§æ‡§®‡•Ä ‡§ï‡§æ ‡§∞‡§æ‡§∏‡§æ‡§Ø‡§®‡§ø‡§ï ‡§∏‡•Ç‡§§‡•ç‡§∞ ‡§ï‡•ç‡§Ø‡§æ ‡§π‡•à?`,
        options: ['H2O', 'CO2', 'O2', 'HCl'],
        answer: 0,
        solution: '‡§™‡§æ‡§®‡•Ä ‡§ï‡§æ ‡§∞‡§æ‡§∏‡§æ‡§Ø‡§®‡§ø‡§ï ‡§∏‡•Ç‡§§‡•ç‡§∞ H‚ÇÇO ‡§π‡•ã‡§§‡§æ ‡§π‡•à‡•§'
      })),
      gk: Array.from({ length: 100 }, (_, i) => ({
        q: `Q${i+1}: ‡§≠‡§æ‡§∞‡§§ ‡§ï‡•Ä ‡§∞‡§æ‡§ú‡§ß‡§æ‡§®‡•Ä ‡§ï‡•ç‡§Ø‡§æ ‡§π‡•à?`,
        options: ['‡§®‡§à ‡§¶‡§ø‡§≤‡•ç‡§≤‡•Ä', '‡§Æ‡•Å‡§Ç‡§¨‡§à', '‡§ï‡•ã‡§≤‡§ï‡§æ‡§§‡§æ', '‡§ö‡•á‡§®‡•ç‡§®‡§à'],
        answer: 0,
        solution: '‡§≠‡§æ‡§∞‡§§ ‡§ï‡•Ä ‡§∞‡§æ‡§ú‡§ß‡§æ‡§®‡•Ä ‡§®‡§à ‡§¶‡§ø‡§≤‡•ç‡§≤‡•Ä ‡§π‡•à‡•§'
      })),
      computer: Array.from({ length: 100 }, (_, i) => ({
        q: `Q${i+1}: CPU ‡§ï‡§æ ‡§™‡•Ç‡§∞‡§æ ‡§®‡§æ‡§Æ ‡§ï‡•ç‡§Ø‡§æ ‡§π‡•à?`,
        options: ['Central Processing Unit', 'Computer Power Unit', 'Control Panel Unit', 'Central Program Utility'],
        answer: 0,
        solution: 'CPU ‡§ï‡§æ ‡§Æ‡§§‡§≤‡§¨ ‡§π‡•à Central Processing Unit‡•§'
      })),
      reasoning: Array.from({ length: 100 }, (_, i) => ({
        q: `Q${i+1}: 2, 4, 6, ?, 10 ‚Äî ? ‡§Æ‡•á‡§Ç ‡§ï‡•ç‡§Ø‡§æ ‡§Ü‡§è‡§ó‡§æ?`,
        options: ['8', '7', '9', '6'],
        answer: 0,
        solution: '‡§Ø‡§π ‡§è‡§ï +2 ‡§ï‡•Ä series ‡§π‡•à: ‡§Ö‡§ó‡§≤‡§æ ‡§®‡§Ç‡§¨‡§∞ 8 ‡§π‡•ã‡§ó‡§æ‡•§'
      })),
      bihar: Array.from({ length: 100 }, (_, i) => ({
        q: `Q${i+1}: ‡§¨‡§ø‡§π‡§æ‡§∞ ‡§ï‡•á ‡§™‡§π‡§≤‡•á ‡§Æ‡•Å‡§ñ‡•ç‡§Ø‡§Æ‡§Ç‡§§‡•ç‡§∞‡•Ä ‡§ï‡•å‡§® ‡§•‡•á?`,
        options: ['‡§∂‡•ç‡§∞‡•Ä‡§ï‡•É‡§∑‡•ç‡§£ ‡§∏‡§ø‡§Ç‡§π', '‡§®‡•Ä‡§§‡•Ä‡§∂ ‡§ï‡•Å‡§Æ‡§æ‡§∞', '‡§≤‡§æ‡§≤‡•Ç ‡§Ø‡§æ‡§¶‡§µ', '‡§∞‡§æ‡§Æ‡§µ‡§ø‡§≤‡§æ‡§∏ ‡§™‡§æ‡§∏‡§µ‡§æ‡§®'],
        answer: 0,
        solution: '‡§¨‡§ø‡§π‡§æ‡§∞ ‡§ï‡•á ‡§™‡§π‡§≤‡•á ‡§Æ‡•Å‡§ñ‡•ç‡§Ø‡§Æ‡§Ç‡§§‡•ç‡§∞‡•Ä ‡§∂‡•ç‡§∞‡•Ä‡§ï‡•É‡§∑‡•ç‡§£ ‡§∏‡§ø‡§Ç‡§π ‡§•‡•á‡•§'
      })),
    };

    let currentTest = null, currentIndex = 0, selectedOption = null;
    let correctAnswers = [], wrongAnswers = [], timeLeft = 120 * 60;
    let timerInterval = null;

    function saveName() {
      const name = document.getElementById('username').value.trim();
      if (name) {
        localStorage.setItem('examUserName', name);
        document.getElementById('userNameDisplay').innerText = name;
        document.getElementById('nameSection').classList.add('hidden');
        document.getElementById('homeSection').classList.remove('hidden');
      }
    }

    window.onload = () => {
      const name = localStorage.getItem('examUserName');
      if (name) {
        document.getElementById('username').value = name;
        document.getElementById('userNameDisplay').innerText = name;
        document.getElementById('nameSection').classList.add('hidden');
        document.getElementById('homeSection').classList.remove('hidden');
      }
    };

    function startTest(type) {
      if (!questionData[type]) return;
      currentTest = type;
      currentIndex = 0;
      selectedOption = null;
      correctAnswers = [];
      wrongAnswers = [];
      timeLeft = 120 * 60;
      clearInterval(timerInterval);
      document.getElementById('timer').classList.remove('hidden');
      timerInterval = setInterval(updateTimer, 1000);
      document.getElementById('testSection').classList.remove('hidden');
      document.getElementById('resultSection').classList.add('hidden');
      showQuestion();
    }

    function updateTimer() {
      const min = Math.floor(timeLeft / 60);
      const sec = timeLeft % 60;
      document.getElementById('timer').innerText = `‚è∞ ‡§∏‡§Æ‡§Ø ‡§¨‡§ö‡§æ ‡§π‡•à: ${min} ‡§Æ‡§ø‡§®‡§ü ${sec} ‡§∏‡•á‡§ï‡§Ç‡§°`;
      timeLeft--;
      if (timeLeft < 0) {
        clearInterval(timerInterval);
        showResult();
      }
    }

    function showQuestion() {
      const questions = questionData[currentTest];
      const q = questions[currentIndex];
      let html = `<div class='question-box'><h3>${q.q}</h3>`;
      q.options.forEach((opt, i) => {
        html += `<div class='option' onclick='selectOption(${i})'>${opt}</div>`;
      });
      html += `<div class='solution' id='solution'></div>`;
      html += `<button class='btn' onclick='nextQuestion()'>Save & Next</button></div>`;
      document.getElementById('testSection').innerHTML = html;
    }

    function selectOption(i) {
      selectedOption = i;
      const opts = document.querySelectorAll('.option');
      opts.forEach((opt, idx) => {
        opt.classList.toggle('selected', idx === i);
      });
    }

    function nextQuestion() {
      if (selectedOption === null) {
        alert("‡§ï‡•É‡§™‡§Ø‡§æ ‡§ï‡•ã‡§à ‡§µ‡§ø‡§ï‡§≤‡•ç‡§™ ‡§ö‡•Å‡§®‡•á‡§Ç");
        return;
      }

      const q = questionData[currentTest][currentIndex];
      if (selectedOption === q.answer) {
        correctAnswers.push({ ...q, selected: selectedOption });
      } else {
        wrongAnswers.push({ ...q, selected: selectedOption });
      }

      currentIndex++;
      selectedOption = null;

      if (currentIndex < 100) {
        showQuestion();
      } else {
        showResult();
      }
    }

    function showResult() {
      clearInterval(timerInterval);
      document.getElementById('testSection').classList.add('hidden');
      document.getElementById('timer').classList.add('hidden');
      let html = `<div class='summary-box'><h3>üéØ Test Complete!</h3>
        <p>‚úÖ ‡§∏‡§π‡•Ä ‡§â‡§§‡•ç‡§§‡§∞: ${correctAnswers.length}</p>
        <p>‚ùå ‡§ó‡§≤‡§§ ‡§â‡§§‡•ç‡§§‡§∞: ${wrongAnswers.length}</p>
        <div class='filter-btns'>
          <button class='btn' onclick='showReview("right")'>‡§∏‡§ø‡§∞‡•ç‡§´ ‡§∏‡§π‡•Ä</button>
          <button class='btn' onclick='showReview("wrong")'>‡§∏‡§ø‡§∞‡•ç‡§´ ‡§ó‡§≤‡§§</button>
        </div></div>`;
      document.getElementById('resultSection').innerHTML = html;
      document.getElementById('resultSection').classList.remove('hidden');
    }

    function showReview(type) {
      const list = type === 'right' ? correctAnswers : wrongAnswers;
      let html = `<div class='summary-box'><h3>${type === 'right' ? '‚úÖ ‡§∏‡§π‡•Ä ‡§â‡§§‡•ç‡§§‡§∞' : '‚ùå ‡§ó‡§≤‡§§ ‡§â‡§§‡•ç‡§§‡§∞'}</h3>`;
      list.forEach((q) => {
        html += `<div class='question-review'><h4>${q.q}</h4>
          <p>‡§Ü‡§™‡§ï‡§æ ‡§â‡§§‡•ç‡§§‡§∞: ${q.options[q.selected]}</p>
          <p>‡§∏‡§π‡•Ä ‡§â‡§§‡•ç‡§§‡§∞: ${q.options[q.answer]}</p>
          <p><em>${q.solution}</em></p></div>`;
      });
      html += `<button class='btn' onclick='startTest("${currentTest}")'>‡§™‡•Å‡§®‡§É ‡§ü‡•á‡§∏‡•ç‡§ü ‡§ï‡§∞‡•á‡§Ç</button></div>`;
      document.getElementById('resultSection').innerHTML = html;
    }

    window.onpopstate = () => {
      if (!document.getElementById('testSection').classList.contains('hidden')) {
        const confirmExit = confirm("‡§ï‡•ç‡§Ø‡§æ ‡§Ü‡§™ ‡§ü‡•á‡§∏‡•ç‡§ü ‡§∏‡•á ‡§¨‡§æ‡§π‡§∞ ‡§®‡§ø‡§ï‡§≤‡§®‡§æ ‡§ö‡§æ‡§π‡§§‡•á ‡§π‡•à‡§Ç?");
        if (confirmExit) location.reload();
        else history.pushState(null, null, location.href);
      }
    };
    history.pushState(null, null, location.href);
  </script>
</body>
</html>
